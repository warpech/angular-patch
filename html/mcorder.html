<!doctype html>
<html lang="en" ng-app="StarcounterLib">
  <head>
    <?php if($injectEliminateRequest == true) { ?>
    <script>
      var __elim_rq = <?php echo json_encode($_SESSION['data']) ?>;
    </script>
    <?php } ?>
    <meta charset="utf-8">
    <title>Angular Patch McOrder demo</title>
    <script src="../js/lib/angular.min.js"></script>
    <script src="../js/lib/angular-datagrid.js"></script>

    <script src="../js/lib/handsontable/lib/jquery.min.js"></script>
    <script src="../js/lib/handsontable/jquery.handsontable.js"></script>
    <script src="../js/lib/handsontable/lib/bootstrap-typeahead.js"></script>
    <script src="../js/lib/handsontable/lib/jquery.autoresize.js"></script>
    <script src="../js/lib/handsontable/lib/jQuery-contextMenu/jquery.contextMenu.js"></script>
    <script src="../js/lib/handsontable/lib/jQuery-contextMenu/jquery.ui.position.js"></script>
    <link rel="stylesheet" media="screen" href="../js/lib/handsontable/lib/jQuery-contextMenu/jquery.contextMenu.css">
    <link rel="stylesheet" media="screen" href="../js/lib/handsontable/jquery.handsontable.css">

    <!--<script src="../js/lib/jsonpatch.js"></script>
    <script src="../js/lib/appContext.js"></script>
    <script src="../js/serverScope.js"></script>-->
    <script src="../js/app_mcorder.js"></script>
    <?php if($injectEliminateRequest == false) { ?>
    <meta name="View-Model" content="<?php echo $_SESSION['data']['__vm']?>">
    <?php } ?>
  </head>
  <body ng-controller="MyCtrl" server-scope>

    <h1>Angular Patch McOrder demo</h1>

    <p>The session is restarted when you refresh the window. Random name is generated on session start</p>

    <button ng-click="dumpItems()">Dump object to console</button>

    <h2>Order no {{OrderNo}} ({{Items.length}} items)</h2>

    <div ui-datagrid datarows="item in Items">
      <datacolumn value="item.Product._Search$" title="Product"/>
      <datacolumn value="item.Quantity$" title="Quantity"/>
    </div>

  </body>
</html>